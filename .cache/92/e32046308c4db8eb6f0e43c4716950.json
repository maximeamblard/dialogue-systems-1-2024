{"id":"../node_modules/event-as-promise/lib/index.js","dependencies":[{"name":"/Users/amblardv5/Nextcloud/2024/dialogue-systems-1-2024/package.json","includedInParent":true,"mtime":1733076065657},{"name":"/Users/amblardv5/Nextcloud/2024/dialogue-systems-1-2024/node_modules/event-as-promise/package.json","includedInParent":true,"mtime":1733074799219},{"name":"./external/p-defer","loc":{"line":8,"column":45,"index":152},"parent":"/Users/amblardv5/Nextcloud/2024/dialogue-systems-1-2024/node_modules/event-as-promise/lib/index.js","resolved":"/Users/amblardv5/Nextcloud/2024/dialogue-systems-1-2024/node_modules/event-as-promise/lib/external/p-defer.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _pDefer = _interopRequireDefault(require(\"./external/p-defer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar EventAsPromise =\n/*#__PURE__*/\nfunction () {\n  function EventAsPromise() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, EventAsPromise);\n\n    this.defers = [];\n    this.upcomingDeferred = null;\n    this.eventListener = this.eventListener.bind(this);\n    this.options = options;\n    this.one = this.one.bind(this);\n    this.upcoming = this.upcoming.bind(this);\n\n    this[Symbol.iterator] = function () {\n      return {\n        next: function next() {\n          return {\n            done: false,\n            value: _this.upcoming()\n          };\n        }\n      };\n    };\n  }\n\n  _createClass(EventAsPromise, [{\n    key: \"eventListener\",\n    value: function eventListener(event) {\n      var deferred = this.defers.shift();\n      var args = this.options.array ? [].slice.call(arguments) : event;\n      deferred && deferred.resolve(args);\n\n      if (this.upcomingDeferred) {\n        this.upcomingDeferred.resolve(args);\n        this.upcomingDeferred = null;\n      }\n    }\n  }, {\n    key: \"one\",\n    value: function one() {\n      var deferred = (0, _pDefer.default)();\n      this.defers.push(deferred);\n      return deferred.promise;\n    }\n  }, {\n    key: \"upcoming\",\n    value: function upcoming() {\n      if (!this.upcomingDeferred) {\n        this.upcomingDeferred = (0, _pDefer.default)();\n      }\n\n      return this.upcomingDeferred.promise;\n    }\n  }]);\n\n  return EventAsPromise;\n}();\n\nexports.default = EventAsPromise;\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;\n"},"sourceMaps":{"js":{"version":3,"sources":["../src/index.js"],"names":["EventAsPromise","options","defers","upcomingDeferred","eventListener","bind","one","upcoming","Symbol","iterator","next","done","value","event","deferred","shift","args","array","slice","call","arguments","resolve","push","promise"],"mappings":";;;;;;;AAAA;;;;;;;;;;IAEqBA,c;;;AACnB,4BAA0B;AAAA;;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AAAA;;AACxB,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKC,gBAAL,GAAwB,IAAxB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKJ,OAAL,GAAeA,OAAf;AAEA,SAAKK,GAAL,GAAW,KAAKA,GAAL,CAASD,IAAT,CAAc,IAAd,CAAX;AACA,SAAKE,QAAL,GAAgB,KAAKA,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAhB;;AAEA,SAAKG,MAAM,CAACC,QAAZ,IAAwB;AAAA,aAAO;AAC7BC,QAAAA,IAAI,EAAE;AAAA,iBAAO;AACXC,YAAAA,IAAI,EAAE,KADK;AAEXC,YAAAA,KAAK,EAAE,KAAI,CAACL,QAAL;AAFI,WAAP;AAAA;AADuB,OAAP;AAAA,KAAxB;AAMD;;;;kCAEaM,K,EAAO;AACnB,UAAMC,QAAQ,GAAG,KAAKZ,MAAL,CAAYa,KAAZ,EAAjB;AACA,UAAMC,IAAI,GAAG,KAAKf,OAAL,CAAagB,KAAb,GAAqB,GAAGC,KAAH,CAASC,IAAT,CAAcC,SAAd,CAArB,GAAgDP,KAA7D;AAEAC,MAAAA,QAAQ,IAAIA,QAAQ,CAACO,OAAT,CAAiBL,IAAjB,CAAZ;;AAEA,UAAI,KAAKb,gBAAT,EAA2B;AACzB,aAAKA,gBAAL,CAAsBkB,OAAtB,CAA8BL,IAA9B;AACA,aAAKb,gBAAL,GAAwB,IAAxB;AACD;AACF;;;0BAEK;AACJ,UAAMW,QAAQ,GAAG,sBAAjB;AAEA,WAAKZ,MAAL,CAAYoB,IAAZ,CAAiBR,QAAjB;AAEA,aAAOA,QAAQ,CAACS,OAAhB;AACD;;;+BAEU;AACT,UAAI,CAAC,KAAKpB,gBAAV,EAA4B;AAC1B,aAAKA,gBAAL,GAAwB,sBAAxB;AACD;;AAED,aAAO,KAAKA,gBAAL,CAAsBoB,OAA7B;AACD","sourcesContent":["import createDeferred from './external/p-defer';\n\nexport default class EventAsPromise {\n  constructor(options = {}) {\n    this.defers = [];\n    this.upcomingDeferred = null;\n    this.eventListener = this.eventListener.bind(this);\n    this.options = options;\n\n    this.one = this.one.bind(this);\n    this.upcoming = this.upcoming.bind(this);\n\n    this[Symbol.iterator] = () => ({\n      next: () => ({\n        done: false,\n        value: this.upcoming()\n      })\n    });\n  }\n\n  eventListener(event) {\n    const deferred = this.defers.shift();\n    const args = this.options.array ? [].slice.call(arguments) : event;\n\n    deferred && deferred.resolve(args);\n\n    if (this.upcomingDeferred) {\n      this.upcomingDeferred.resolve(args);\n      this.upcomingDeferred = null;\n    }\n  }\n\n  one() {\n    const deferred = createDeferred();\n\n    this.defers.push(deferred);\n\n    return deferred.promise;\n  }\n\n  upcoming() {\n    if (!this.upcomingDeferred) {\n      this.upcomingDeferred = createDeferred();\n    }\n\n    return this.upcomingDeferred.promise;\n  }\n}\n"]}},"error":null,"hash":"1ddb434fbb2868902ff98207bbd1095a","cacheData":{"env":{}}}